# analyze grassland bird density at Duke Farms 2010-2025 with hierarchical distance sampling

source("R/setup.R")

# --- Read in data

d10 <- format_2010_2013_data_for_analysis("data/Grassland_Birds_2010-2013_data.csv")
d18 <- format_2018_2019_data_for_analysis("data/Grassland_Birds_2018-2019_data.csv")
d24 <- read.csv("data/Grassland_Birds_2024_data.csv")
d25 <- read.csv("data/20250520_grassland_birds_2025_Allen/Grassland_Birds_2025_data.csv")

# > str(d)
# tibble [488 Ã— 29] (S3: tbl_df/tbl/data.frame)
# $ order   : num [1:488] 1 2 3 4 5 6 7 8 9 10 ...
# $ period  : num [1:488] 1 1 1 1 1 1 1 1 1 1 ...
# $ observer: chr [1:488] "Charles Barreca" "Charles Barreca" "Charles Barreca" "Charles Barreca" ...
# $ recorder: chr [1:488] "Von Scully" "Von Scully" "Von Scully" "Von Scully" ...
# $ year    : chr [1:488] "Y24" "Y24" "Y24" "Y24" ...
# $ date    : POSIXct[1:488], format: "2024-05-31" "2024-05-31" "2024-05-31" "2024-05-31" ...
# $ temp.s  : num [1:488] 52 52 52 52 52 52 52 52 52 52 ...
# $ temp.e  : num [1:488] 58 58 58 58 58 58 58 58 58 58 ...
# $ wind.s  : num [1:488] 1 1 1 1 1 1 1 1 1 1 ...
# $ wind.e  : num [1:488] 1 1 1 1 1 1 1 1 1 1 ...
# $ sky.s   : num [1:488] 1 1 1 1 1 1 1 1 1 1 ...
# $ sky.e   : num [1:488] 0 0 0 0 0 0 0 0 0 0 ...
# $ field   : chr [1:488] "K" "K" "K" "K" ...
# $ ID      : chr [1:488] "A" "B" "C" "D" ...
# $ point   : num [1:488] 9 9 9 9 9 9 9 9 20 20 ...
# $ start   : POSIXct[1:488], format: "1899-12-31 05:26:00" "1899-12-31 05:26:00" "1899-12-31 05:26:00" "1899-12-31 05:26:00" ...
# $ species : chr [1:488] "EAKI" "BOBO" "SOSP" "WIFL" ...
# $ num     : num [1:488] 1 1 1 1 1 1 1 1 1 1 ...
# $ minute  : num [1:488] 1 1 2 3 4 4 5 5 1 1 ...
# $ distance: num [1:488] 20 20 50 25 80 55 30 35 36 60 ...
# $ az      : chr [1:488] "180.0" "180.0" "200.0" "120.0" ...
# $ detect  : chr [1:488] "SH" "SH" "SH" "SH" ...
# $ sex     : chr [1:488] "U" "M" "U" "U" ...
# $ voc     : chr [1:488] "C" NA NA "SC" ...
# $ breed   : chr [1:488] NA NA NA NA ...
# $ notes   : chr [1:488] "chasing other birds" NA NA NA ...
# $ pt      : chr [1:488] "Y24DUKE_09" "Y24DUKE_09" "Y24DUKE_09" "Y24DUKE_09" ...
# $ time    : num [1:488] 5.43 5.43 5.43 5.43 5.43 ...
# $ dist    : num [1:488] 20 20 50 25 80 55 30 35 36 60 ...